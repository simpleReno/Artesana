#: include pos_app/adapters/ui/gui/kv_files/home_window.kv
#: include pos_app/adapters/ui/gui/kv_files/clock_window.kv
#: include pos_app/adapters/ui/gui/kv_files/inventory_window.kv
#: include pos_app/adapters/ui/gui/kv_files/reports_window.kv
#: include pos_app/adapters/ui/gui/kv_files/payroll_window.kv
#: include pos_app/adapters/ui/gui/kv_files/management_window.kv
#: include pos_app/adapters/ui/gui/kv_files/settings_window.kv
##############################################################################################
# DesktopApp
##############################################################################################
##############################################################################################
# NavigationLayout
##############################################################################################
MDNavigationLayout:
    orientation: 'vertical'
    spacing: dp(10)
    padding: dp(10)
    MDScreenManager:
        MDScreen:
            MDBoxLayout:
                orientation: 'vertical'
##############################################################################################
#(4) TopAppBar
##############################################################################################        
                MDTopAppBar:
                    id: top_app_bar
                    type: "small"
                    MDTopAppBarLeadingButtonContainer:
                        MDActionTopAppBarButton:
                            icon: "menu"
                            on_release: app.root.ids.nav_drawer.set_state()   
                    MDTopAppBarTitle:
                        id: title
                        text: "La Artesana"
                    MDTopAppBarTrailingButtonContainer:                 
                        MDActionTopAppBarButton:
                            icon: "account-circle-outline"
                            on_release: app.switch_theme_style() 
##############################################################################################
#(4) Screen Manager
##############################################################################################
                MDScreenManager:
                    id: screen_manager
                    HomeWindow:
                        id: home
                        name: "home"
                    ClockWindow:
                        id: clock_in_out
                        name: "clock_in_out"
                    InventoryWindow:
                        id: inventory
                        name: "inventory"
                    ReportsWindow:
                        id: reports
                        name: "reports"
                    PayrollWindow:
                        id: payroll
                        name: "payroll"
                    ManagementWindow:
                        id: manage
                        name: "manage"
                    SettingsWindow:
                        id: settings
                        name: "settings"
##############################################################################################
#(1) NavigationDrawer
##############################################################################################
    MDNavigationDrawer:
        id: nav_drawer
        md_bg_color: app.theme_cls.backgroundColor
        radius: 0, dp(16), dp(16), 0
##############################################################################################
        MDNavigationDrawerMenu:
            MDNavigationDrawerLabel:
                text: "Menu"
##############################################################################################
            MDNavigationDrawerDivider:
##############################################################################################
            NavigationDrawerItem:
                icon: "home"
                text: "Home"
                screen: "home"
                on_touch_down: 
                    app.switch_navigation_drawer(self.screen) if self.collide_point(*args[1].pos) else False
            NavigationDrawerItem:
                icon: "clock"
                text: "Clock In/Out"
                screen: "clock_in_out"
                on_touch_down: 
                    app.switch_navigation_drawer(self.screen) if self.collide_point(*args[1].pos) else False
##############################################################################################
            MDNavigationDrawerDivider:
##############################################################################################
            NavigationDrawerItem:
                icon: "store"
                text: "Inventory"
                screen: "inventory"
                on_touch_down: 
                    app.switch_navigation_drawer(self.screen) if self.collide_point(*args[1].pos) else False
            NavigationDrawerItem:
                icon: "bookshelf"
                text: "Reports"
                screen: "reports"
                on_touch_down: 
                    app.switch_navigation_drawer(self.screen) if self.collide_point(*args[1].pos) else False
            NavigationDrawerItem:
                icon: "calendar-account"
                text: "Payroll"
                screen: "payroll"
                on_touch_down: 
                    app.switch_navigation_drawer(self.screen) if self.collide_point(*args[1].pos) else False
##############################################################################################
            MDNavigationDrawerDivider:
##############################################################################################
            NavigationDrawerItem:
                icon: "account-key"
                text: "Manage"
                screen: "manage"
                on_touch_down: 
                    app.switch_navigation_drawer(self.screen) if self.collide_point(*args[1].pos) else False
            NavigationDrawerItem:
                icon: "tools"
                text: "Settings"
                screen: "settings"
                on_touch_down: 
                    app.switch_navigation_drawer(self.screen) if self.collide_point(*args[1].pos) else False
##############################################################################################
            MDNavigationDrawerDivider: 
##############################################################################################
            NavigationDrawerItem:
                icon: "exit-to-app"
                text: "Exit"
                on_release: app.stop() 